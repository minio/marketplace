apiVersion: app.k8s.io/v1beta1
kind: Application
metadata:
  name: "$name"
  namespace: "$namespace"
  annotations:
    kubernetes-engine.cloud.google.com/icon: >-
        data:image/png;base64,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
    marketplace.cloud.google.com/deploy-info: '{"partner_id": "minio-inc-public", "product_id": "minio", "partner_name": "MinIO"}'
  labels:
    app.kubernetes.io/name: "$name"
spec:
  descriptor:
    type: minio
    version: '4.5.3'
    notes: |-
      # Configure kubectl to use cluster
      ```shell
      gcloud container clusters get-credentials [CLUSTER_NAME] --zone [CLUSTER_ZONE]
      ```

      # Get the JWT to login to Operator UI
      ```shell
      kubectl -n [NAMESPACE]  get secret $(kubectl -n minio-operator get serviceaccount console-sa -o jsonpath="{.secrets[0].name}") -o jsonpath="{.data.token}" | base64 --decode
      ```
      * [NAMESPACE] use the namespace provided at the time of installation

      # Port Forward into Operator UI
      ```shell
      kubectl -n [NAMESPACE] port-forward svc/console 9090
      ```

      # Create a MinIO Tenant
      Go to http://localhost:9090, enter the JWT from the previous step and create a tenant

  selector:
    matchLabels:
      app.kubernetes.io/name: "$name"
  componentKinds:
  - group: apps
    kind: Deployment
  - group: ''
    kind: Service
  - group: core
    kind: ServiceAccount
